1. 

CREATE PROCEDURE statystyki_autor (in imie VARCHAR(40), nazwisko varchar(40))
	SELECT imie, nazwisko, count(idWypozyczenie) as Ilość_wypożyczeń 
    from wypozyczenie 
    inner join ksiazka on ksiazka.idKsiążka = wypozyczenie.idKsiazka
    inner join autor on autor.idAutor = ksiazka.idAutor
    where imie = autor.imie or nazwisko = autor.nazwisko ;


3. Poprawione teraz przy nieistniejącej książce pokazuje null w tytule i 0 w ilości wypożyczeń

CREATE PROCEDURE statystyki_ksiazka (in tytul VARCHAR(255))
	SELECT ksiazka.tytul, count(distinct idWypozyczenie) as Ilość_wypożyczeń from wypozyczenie 
    inner join ksiazka on ksiazka.idKsiążka = wypozyczenie.idKsiazka
    where tytul = ksiazka.tytul ;
	
	
4. nie trzeba podawać dokładnej wartości

CREATE PROCEDURE wyszukaj (in tekst VARCHAR(255))
	SELECT  * from dane_ksiazki
    where imie_autora like concat('%', tekst, '%' )
    or nazwisko_autora like concat('%', tekst, '%' )
    or tytul like concat('%', tekst, '%' )
    or wydawnictwo like concat('%', tekst, '%' )
    or gatunek like concat('%', tekst, '%' );
	
	
	
8. nie trzeba podawać dokładnej wartości